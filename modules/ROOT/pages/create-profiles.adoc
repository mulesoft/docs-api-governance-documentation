= Applying Governance Rulesets to Specified APIs

After you identify the APIs in Exchange that 
you want to govern, you are ready to create governance profiles. Governance profiles enable you to select just the sets of APIs that you want to govern for each set of rulesets.

[[create-profile-in-console]]
== Create a Governance Profile Using the API Governance Console

The API Governance console UI guides you through creating profiles.

.To create a governance profile using the API Governance console: 

. In *API Governance*, click *New Profile*.
. Follow the UI prompts to enter the following:
+
* *General Information:* Enter a profile name and description that helps others understand what kinds of governance rulesets are included and the kinds of APIs that are validated in this profile.
* *Rulesets*: Select one or more rulesets you want to use to govern your APIs. You can select a different version if you don't want to use the latest, which is shown by default. If you select *Automatically use the latest versions of rulesets*, the profile automatically uses the new ruleset versions when they are published to Exchange.  
* *Filter Criteria*: To apply selected rulesets to specific APIs, select filter criteria. The filter criteria applies to your organization's APIs that are in Exchange and to new APIs as you add them to Exchange. You can filter by the following:
+
 ** API type
 ** Tags
 ** Categories
 ** Lifecycle State
+
Selections appear in the *Tag* and *Category* fields only if your APIs in Exchange have tags and categories. If you filter by multiple tags and categories, your APIs must have all of the selected tags and categories to match the criteria. See xref:add-tags.adoc[Identifying APIs to Govern].
+
Based on your filter criteria, the latest version of the APIs are automatically selected and show in the page. For example, if you select lifecycle state *Development*, the latest versions of the APIs in *Development* are selected rather than the latest stable versions. 
+ 
If you filter by categories, you can see the number of categories for each API, which is denoted by *Categories* followed by a number in parenthesis. Hover over *Categories* to see more details. 
+
CAUTION: If you do not select filter criteria, your governance profile is applied to _all_ of your APIs in Exchange.
+
* *Notifications:* Enable or disable automatic notifications for this profile. The default is enabled. See xref:configure-notifications.adoc#send-auto-notifs[Sending Conformance Notifications]. 
* *Review:* Review your profile and click *Create*.

== Update a Governance Profile Using the API Governance Console

The API Governance console guides you through updating profiles. 

To update governance profile information using the API Governance console: 

. In *API Governance*, in the console *Profiles* tab, click the more options menu icon (image:overflow-menu-icon.png[width=0.90%,height=0.90%,title="Three vertical dots"]) at the end of the profile you want to update and select *Edit*.
. Navigate through the UI using the *Next* and *Previous* buttons and update the profile information as needed. For details on the options, see <<create-profile-in-console>>.
. Review your changes and click *Update Profile*.

NOTE: After you apply your edits, the total APIs are updated to indicate how many APIs
your governance profile includes based on your updated filter criteria.

== Delete a Governance Profile Using the API Governance Console

The API Governance console guides you through deleting profiles.

To delete a governance profile: 

. In *API Governance*, in the console *Profiles* tab, click the more options menu icon (image:overflow-menu-icon.png[width=0.90%,height=0.90%,title="Three vertical dots"]) at the end of the profile you want to update and select *Delete*.
. Click *Yes, Delete*.

== Create Governance Profiles Using the API Governance CLI

If you want to use a command to create an API Governance profile, use the following command:

include::anypoint-cli::partial$api-governance.adoc[tag=governance-profile-create,leveloffset=+1]

== List Governance Profile Information Using the API Governance CLI

If you want to use a command to list governance profile information for all governance profiles, use the following command:

include::anypoint-cli::partial$api-governance.adoc[tag=governance-profile-list,leveloffset=+1]

== List Specific Governance Profile Information Using the API Governance CLI

If you want to use a command to list governance profile information for a specific governance profile ID, use the following command:

include::anypoint-cli::partial$api-governance.adoc[tag=governance-profile-info,leveloffset=+1]

== Update a Governance Profile Using the API Governance CLI

If you want to use a command to update a governance profile, use the following command:

include::anypoint-cli::partial$api-governance.adoc[tag=governance-profile-update,leveloffset=+1]

include::anypoint-cli::partial$api-governance.adoc[tag=exchange-asset-identifier,leveloffset=+2]

== Delete a Governance Profile Using the API Governance CLI

To use the CLI to delete a governance profile, use the following command:

include::anypoint-cli::partial$api-governance.adoc[tag=governance-profile-delete,leveloffset=+1]